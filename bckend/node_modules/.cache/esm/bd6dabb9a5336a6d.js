let ADMINSTRATORS,ADMIN_HASH,GLOBALS,USERS,USERS_HASH;_a53‍.x([["create_default_admin",()=>create_default_admin],["site_metric",()=>site_metric],["update_site_metric",()=>update_site_metric]]);_a53‍.w("../ds/conn",[["ADMINSTRATORS",["ADMINSTRATORS"],function(v){ADMINSTRATORS=v}],["ADMIN_HASH",["ADMIN_HASH"],function(v){ADMIN_HASH=v}],["GLOBALS",["GLOBALS"],function(v){GLOBALS=v}],["USERS",["USERS"],function(v){USERS=v}],["USERS_HASH",["USERS_HASH"],function(v){USERS_HASH=v}]]);







let default_admin = "adminstrators~123QNA~1234567890123",
  default_user = "users~123QNA~1234567890123";

const site_metric = "site_metric";

const create_default_admin = () => {
  if (!ADMINSTRATORS.readone(default_admin)) {
    ADMINSTRATORS.write({
      firstname: "QNA",
      lastname: "",
      image: "logo_single.png",
      email: "admin@QNA.com",
      _id: default_admin,
    });
    ADMIN_HASH.write({ admin: default_admin, key: "adminstrator#1" });
  }

  if (!USERS.readone(default_user)) {
    USERS.write({
      _id: default_user,
      firstname: "QNA",
      lastname: "",
      verified: true,
      email: "qna@gmail.com",
    });
    USERS_HASH.write({ user: default_user, key: "adminstrator#1" });
  }

  GLOBALS.write({ global: site_metric });
};

let site_metric_folder;
const update_site_metric = (update) => {
  if (!site_metric_folder)
    site_metric_folder = GLOBALS.readone({ global: site_metric });

  GLOBALS.update({ _id: site_metric_folder, global: site_metric }, update);
};


